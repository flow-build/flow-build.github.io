(self.webpackChunkworkflow=self.webpackChunkworkflow||[]).push([[4478],{3905:function(n,e,r){"use strict";r.d(e,{Zo:function(){return l},kt:function(){return m}});var a=r(7294);function t(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function i(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,a)}return r}function o(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){t(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function s(n,e){if(null==n)return{};var r,a,t=function(n,e){if(null==n)return{};var r,a,t={},i=Object.keys(n);for(a=0;a<i.length;a++)r=i[a],e.indexOf(r)>=0||(t[r]=n[r]);return t}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var p=a.createContext({}),c=function(n){var e=a.useContext(p),r=e;return n&&(r="function"==typeof n?n(e):o(o({},e),n)),r},l=function(n){var e=c(n.components);return a.createElement(p.Provider,{value:e},n.children)},u={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(n,e){var r=n.components,t=n.mdxType,i=n.originalType,p=n.parentName,l=s(n,["components","mdxType","originalType","parentName"]),d=c(r),m=t,f=d["".concat(p,".").concat(m)]||d[m]||u[m]||i;return r?a.createElement(f,o(o({ref:e},l),{},{components:r})):a.createElement(f,o({ref:e},l))}));function m(n,e){var r=arguments,t=e&&e.mdxType;if("string"==typeof n||t){var i=r.length,o=new Array(i);o[0]=d;var s={};for(var p in e)hasOwnProperty.call(e,p)&&(s[p]=e[p]);s.originalType=n,s.mdxType="string"==typeof n?n:t,o[1]=s;for(var c=2;c<i;c++)o[c]=r[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},6968:function(n,e,r){"use strict";r.r(e),r.d(e,{frontMatter:function(){return s},metadata:function(){return p},toc:function(){return c},default:function(){return u}});var a=r(2122),t=r(9756),i=(r(7294),r(3905)),o=["components"],s={},p={unversionedId:"resources/examples/pizzaV2",id:"resources/examples/pizzaV2",isDocsHomePage:!1,title:"Processo de pedir pizza v2",description:"Diagrama",source:"@site/docs/resources/examples/pizzaV2.md",sourceDirName:"resources/examples",slug:"/resources/examples/pizzaV2",permalink:"/docs/resources/examples/pizzaV2",editUrl:"https://github.com/flow-build/flow-build.github.io/docs/resources/examples/pizzaV2.md",version:"current",frontMatter:{},sidebar:"resourcesSidebar",previous:{title:"Processo de pedir Pizza V1",permalink:"/docs/resources/examples/pizzaV1"},next:{title:"Processo de pedir pizza v3",permalink:"/docs/resources/examples/pizzaV3"}},c=[{value:"Diagrama",id:"diagrama",children:[]},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",children:[]},{value:"Blueprint",id:"blueprint",children:[]}],l={toc:c};function u(n){var e=n.components,s=(0,t.Z)(n,o);return(0,i.kt)("wrapper",(0,a.Z)({},l,s,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"diagrama"},"Diagrama"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"pizza-2",src:r(4727).Z})),(0,i.kt)("h2",{id:"descri\xe7\xe3o"},"Descri\xe7\xe3o"),(0,i.kt)("p",null,"N\xf3 1 (Start Node): Iniciar o processo\nN\xf3 2 (User Task): Realizar o pedido da pizza\nN\xf3 3 (System Task): Receber o pedido\nN\xf3 4 (System Task): Salvar os dados do pedido\nN\xf3 5 (User Task): Preparar o pedido da pizza\nN\xf3 6 (System Task): Atualizar o pedido\nN\xf3 7 (User Task): Receber Pizza\nN\xf3 8 (Flow Node): Verificar Pizza\nSe a pizza est\xe1 ok: N\xf3 10 (System Task): Elogiar\nN\xf3 10A (Finish Node): Finalizar Processo (com elogio)\nSe a pizza n\xe3o est\xe1 ok: N\xf3 9 (System Task): Reclamar\nN\xf3 9A: (System Task): Finalizar Processo (com reclama\xe7\xe3o)"),(0,i.kt)("h2",{id:"blueprint"},"Blueprint"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="pizzaV2.json"',title:'"pizzaV2.json"'},'{\n  "name": "pizza2",\n  "description": "pizza 2 example, system and userTasks",\n  "blueprint_spec": {\n    "requirements": ["core"],\n    "prepare": [],\n    "nodes": [\n      {\n        "id": "1",\n        "type": "Start",\n        "name": "Start Pizza 2 WF",\n        "next": "2",\n        "parameters": {\n          "input_schema": {}\n        },\n        "lane_id": "1"\n      },\n      {\n        "id": "2",\n        "type": "UserTask",\n        "name": "Order Pizza",\n        "next": "3",\n        "lane_id": "1",\n        "parameters": {\n          "action": "ORDER_PIZZA",\n          "input": {}\n        }\n      },\n      {\n        "id": "3",\n        "type": "SystemTask",\n        "name": "Take the order",\n        "category": "HTTP",\n        "next": "4",\n        "lane_id": "1",\n        "parameters": {\n          "input": {\n            "status": "pending",\n            "qty": {\n              "$ref": "result.activities[0].data.qty"\n            },\n            "flavors": {\n              "$ref": "result.activities[0].data.flavors"\n            },\n            "comments": {\n              "$ref": "result.activities[0].data.comments"\n            }\n          },\n          "request": {\n            "url": "https://5faabe16b5c645001602b152.mockapi.io/order",\n            "verb": "POST",\n            "headers": {\n              "ContentType": "application/json"\n            }\n          }\n        }\n      },\n      {\n        "id": "4",\n        "type": "SystemTask",\n        "category": "SetToBag",\n        "name": "Save Order",\n        "next": "5",\n        "lane_id": "1",\n        "parameters": {\n          "input": {\n            "order": {\n              "$ref": "result.data"\n            }\n          }\n        }\n      },\n      {\n        "id": "5",\n        "type": "UserTask",\n        "name": "Prepare Pizza",\n        "next": "6",\n        "lane_id": "2",\n        "parameters": {\n          "input": {\n            "order": {\n              "$ref": "bag.order"\n            }\n          },\n          "action": "PREPARE_PIZZA"\n        }\n      },\n      {\n        "id": "6",\n        "type": "SystemTask",\n        "category": "HTTP",\n        "name": "Update Order",\n        "next": "7",\n        "lane_id": "2",\n        "parameters": {\n          "input": {\n            "status": "done"\n          },\n          "request": {\n            "url": {\n              "$mustache": "https://5faabe16b5c645001602b152.mockapi.io/order/{{bag.order.id}}"\n            },\n            "verb": "PUT",\n            "headers": {\n              "ContentType": "application/json"\n            }\n          }\n        }\n      },\n      {\n        "id": "7",\n        "type": "UserTask",\n        "name": "Receive Pizza",\n        "next": "8",\n        "lane_id": "3",\n        "parameters": {\n          "action": "RECEIVE_PIZZA",\n          "input": {}\n        }\n      },\n      {\n        "id": "8",\n        "type": "Flow",\n        "name": "Pizza ok?",\n        "next": {\n          "yes": "10",\n          "no": "9",\n          "default": "10"\n        },\n        "lane_id": "3",\n        "parameters": {\n          "input": {\n            "ok": {\n              "$ref": "result.is_order_ok"\n            }\n          }\n        }\n      },\n      {\n        "id": "9",\n        "type": "SystemTask",\n        "category": "HTTP",\n        "name": "Complaim",\n        "next": "9A",\n        "lane_id": "3",\n        "parameters": {\n          "input": {\n            "status": "complaim"\n          },\n          "request": {\n            "url": {\n              "$mustache": "https://5faabe16b5c645001602b152.mockapi.io/order/{{bag.order.id}}"\n            },\n            "verb": "PUT",\n            "headers": {\n              "ContentType": "application/json"\n            }\n          }\n        }\n      },\n      {\n        "id": "10",\n        "type": "SystemTask",\n        "category": "HTTP",\n        "name": "Praise",\n        "next": "10A",\n        "lane_id": "3",\n        "parameters": {\n          "input": {\n            "status": "praise"\n          },\n          "request": {\n            "url": {\n              "$mustache": "https://5faabe16b5c645001602b152.mockapi.io/order/{{bag.order.id}}"\n            },\n            "verb": "PUT",\n            "headers": {\n              "ContentType": "application/json"\n            }\n          }\n        }\n      },\n      {\n        "id": "9A",\n        "type": "Finish",\n        "name": "Finish Complaim",\n        "next": null,\n        "lane_id": "3"\n      },\n      {\n        "id": "10A",\n        "type": "Finish",\n        "name": "Finish Praise",\n        "next": null,\n        "lane_id": "3"\n      }\n    ],\n    "lanes": [\n      {\n        "id": "1",\n        "name": "free lane",\n        "rule": ["fn", ["&", "args"], true]\n      },\n      {\n        "id": "2",\n        "name": "restaurant lane",\n        "rule": [\n          "fn",\n          ["actor_data", "bag"],\n          [\n            "eval",\n            [\n              "apply",\n              "or",\n              [\n                "map",\n                ["fn", ["v"], ["=", "v", ["`", "restaurant"]]],\n                ["get", "actor_data", ["`", "claims"]]\n              ]\n            ]\n          ]\n        ]\n      },\n      {\n        "id": "3",\n        "name": "user lane",\n        "rule": [\n          "fn",\n          ["actor_data", "bag"],\n          [\n            "eval",\n            [\n              "apply",\n              "or",\n              [\n                "map",\n                ["fn", ["v"], ["=", "v", ["`", "user"]]],\n                ["get", "actor_data", ["`", "claims"]]\n              ]\n            ]\n          ]\n        ]\n      }\n    ],\n    "environment": {}\n  }\n}\n')))}u.isMDXComponent=!0},4727:function(n,e,r){"use strict";e.Z=r.p+"assets/images/pizza-2-66df744a6f00b3b38cc10c8346baf59f.png"}}]);